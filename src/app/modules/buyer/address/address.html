<div class="buyer-page">
  <header class="page-header">
    <div>
      <p class="eyebrow">Buyer</p>
      <h2>Saved Addresses</h2>
      <p class="subtitle">Manage delivery addresses.</p>
    </div>
    <div class="pill">Total: {{ addresses.length }}</div>
  </header>

  <div class="address-grid">
    <div class="card address-form">
      <h3>Add Address</h3>
      <input type="text" placeholder="Full name" [(ngModel)]="newAddress.fullName">
      <input type="text" placeholder="Phone" [(ngModel)]="newAddress.phone">
      <input type="text" placeholder="Address Line" [(ngModel)]="newAddress.addressLine">
      <input type="text" placeholder="City" [(ngModel)]="newAddress.city">
      <input type="text" placeholder="State" [(ngModel)]="newAddress.state">
      <input type="text" placeholder="Pincode" [(ngModel)]="newAddress.pincode">
      <div class="error" *ngIf="error">{{ error }}</div>
      <button type="button" class="btn" (click)="addAddress()">Add Address</button>
    </div>

    <div class="card address-list" *ngIf="addresses.length">
      <div class="list-header">
        <span>Saved Addresses</span>
        <span>Actions</span>
      </div>
      <div class="address-item" *ngFor="let addr of addresses" (click)="selectAddress(addr)">
        <div class="info">
          <div class="title">{{ addr.fullName }}</div>
          <div>{{ addr.addressLine }}</div>
          <div>{{ addr.city }}, {{ addr.state }} {{ addr.pincode }}</div>
        </div>
        <button
          type="button"
          class="btn-outline"
          (click)="removeAddress(addr.id); $event.stopPropagation()">
          Remove
        </button>
      </div>
    </div>

    <div class="card address-editor" *ngIf="draftAddress">
      <div class="detail-header">
        <h3>Edit Address</h3>
        <button class="ghost" (click)="closeEditor()">âœ•</button>
      </div>
      <input type="text" placeholder="Full name" [(ngModel)]="draftAddress.fullName">
      <input type="text" placeholder="Phone" [(ngModel)]="draftAddress.phone">
      <input type="text" placeholder="Address Line" [(ngModel)]="draftAddress.addressLine">
      <input type="text" placeholder="City" [(ngModel)]="draftAddress.city">
      <input type="text" placeholder="State" [(ngModel)]="draftAddress.state">
      <input type="text" placeholder="Pincode" [(ngModel)]="draftAddress.pincode">
      <div class="error" *ngIf="error">{{ error }}</div>
      <button class="btn" (click)="saveAddress()">Save Changes</button>
    </div>
  </div>
</div>
